!function(a){"use strict";var b,c;b='\t<div class="twelve columns uls-no-results-view">\t\t<h2 data-i18n="uls-no-results-found" class="eleven columns end offset-by-one uls-no-results-found-title">\t\tNo results found\t\t</h2>\t\t<div id="uls-no-found-more" class="uls-no-found-more">\t\t\t<div class="ten columns end offset-by-one">\t\t\t\t<p>\t\t\t\t\t<span data-i18n="uls-search-help">You can search by language name, \t\t\t\t\tscript name, ISO code of language or \t\t\t\t\tyou can browse by region:</span>\t\t\t\t\t<a class="uls-region-link" data-i18n="uls-region-AM" data-region="AM">America</a>, \t\t\t\t\t<a class="uls-region-link" data-i18n="uls-region-EU" data-region="EU">Europe</a>, \t\t\t\t\t<a class="uls-region-link" data-i18n="uls-region-ME" data-region="ME">Middle East</a>, \t\t\t\t\t<a class="uls-region-link" data-i18n="uls-region-AF" data-region="AF">Africa</a>, \t\t\t\t\t<a class="uls-region-link" data-i18n="uls-region-AS" data-region="AS">Asia</a>, \t\t\t\t\t<a class="uls-region-link" data-i18n="uls-region-PA" data-region="PA">Pacific</a>, \t\t\t\t\t<a class="uls-region-link" data-i18n="uls-region-WW" data-region="WW">Worldwide</a>.\t\t\t\t</p>\t\t\t</div>\t\t</div>\t</div>',c=function(c,d){this.$element=a(c),this.options=a.extend({},a.fn.lcd.defaults,d),this.$element.addClass("lcd"),this.regionDivs={},this.$element.append(a(b)),this.$noResults=this.$element.find("div.uls-no-results-view"),this.render(),this.listen()},c.prototype={constructor:c,append:function(a,b){this.addToRegion(a,b),this.$noResults.hide()},addToRegion:function(b,c){var d,e,f,g,h,i,j,k=this,l=k.options.languages[b],m=a.uls.data.getAutonym(b)||l||b,n=[];for(c?n.push(c):n=a.uls.data.getRegions(b),a.inArray("WW",n)>-1&&(n=["WW"]),d=0;d<n.length;d++)e=n[d],f=a("<li>").data("code",b).attr({lang:b,dir:a.uls.data.getDir(b)}).append(a("<a>").prop("title",l).html(m)),g=k.getColumn(e),h=g.find("li:last").data("code"),h&&(i=a.uls.data.getScriptGroupOfLanguage(h),j=a.uls.data.getScriptGroupOfLanguage(b),i!==j&&g.find("li").length>2&&(g=k.getColumn(e,!0))),g.append(f)},getColumn:function(b,c){var d,e,f;return c=c||!1,d=this.regionDivs[b],e=d.find("div.row:last"),f=e.find("ul:last"),(0===f.length||f.find("li").length>=8||c)&&(f=a("<ul>").addClass("three columns end"),(0===e.length||e.find("ul").length>=4)&&(e=a("<div>").addClass("row uls-language-block"),d.append(e),f.addClass("offset-by-one")),e.append(f)),a.inArray(b,this.options.showRegions)>-1&&d.show(),f},render:function(){var b,c,d=this,e={WW:"Worldwide",SP:"Special",AM:"America",EU:"Europe",ME:"Middle East",AS:"Asia",AF:"Africa",PA:"Pacific"};a.each(a.uls.data.regiongroups,function(f){b=a("<div>").addClass("twelve columns uls-lcd-region-section").prop("id",f),c=a("<h3>").attr("data-i18n","uls-region-"+f).addClass("eleven columns uls-lcd-region-section uls-lcd-region-title offset-by-one").text(e[f]),b.append(c),d.$element.append(b),b.hide(),d.regionDivs[f]=b}),this.$noResults.hide(),this.i18n()},i18n:function(){this.$element.find("[data-i18n]").i18n()},quicklist:function(){var b,c,d,e,f,g,h,i,j;if(a.isFunction(this.options.quickList)&&(this.options.quickList=this.options.quickList()),!this.options.quickList)return a([]);for(b=this.options.quickList,b=b.slice(0,16),b.sort(a.uls.data.sortByAutonym),c=a("<div>").addClass("twelve columns uls-lcd-region-section").prop("id","uls-lcd-quicklist"),d=a("<h3>").attr("data-i18n","uls-common-languages").addClass("eleven columns uls-lcd-region-section uls-lcd-region-title offset-by-one").text("Common languages"),c.append(d),this.$element.prepend(c),this.regionDivs.quick=c,e=0;e<b.length;e++)f=this.getColumn("quick",e%4===0),g=b[e],h=this.options.languages[g],i=a.uls.data.getAutonym(g)||h||g,j=a("<li>").data("code",g).attr({lang:g,dir:a.uls.data.getDir(g)}).append(a("<a>").prop("title",h).html(i)),f.append(j);return c.show(),d.i18n(),c},show:function(){this.regionDivs||this.render()},empty:function(){this.$element.find("div.uls-language-block").remove(),this.$element.find("div.uls-lcd-region-section").hide()},focus:function(){this.$element.focus()},noResults:function(){this.$noResults.show();var a=this.quicklist();a.find("h3").data("i18n","uls-no-results-suggestion-title").text("You may be interested in:").i18n(),this.$noResults.find("h2").after(a)},listen:function(){var b=this;this.options.clickhandler&&this.$element.on("click","div.row li",function(){b.options.clickhandler.call(this,a(this).data("code"))}),b.$element.scroll(function(){var c,d,e=a(this),f=e.position().top,g=e.height();d="WW",b.$element.find("div.uls-lcd-region-section").each(function(){var b=a(this),c=b.position().top,e=b.height(),h=10;if(c-h<=f&&e>g)return d=b.attr("id"),!0}),c=a.uls.data.regiongroups[d],a(".regionselector").removeClass("active"),a("#uls-region-"+c).addClass("active")})}},a.fn.lcd=function(b){return this.each(function(){var d=a(this),e=d.data("lcd"),f="object"==typeof b&&b;e||d.data("lcd",e=new c(this,f)),"string"==typeof b&&e[b]()})},a.fn.lcd.defaults={languages:null,showRegions:["WW","AM","EU","ME","AF","AS","PA"]},a.fn.lcd.Constructor=c}(jQuery);